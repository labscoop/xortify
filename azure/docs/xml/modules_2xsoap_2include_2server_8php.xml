<?xml version='1.0' encoding='UTF-8' standalone='no'?>
<doxygen xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="compound.xsd" version="1.8.4">
  <compounddef id="modules_2xsoap_2include_2server_8php" kind="file">
    <compoundname>server.php</compoundname>
    <innernamespace refid="namespaceapi">api</innernamespace>
      <sectiondef kind="var">
      <memberdef kind="variable" id="modules_2xsoap_2include_2server_8php_1a8d746571063b5fd6ec78b0632e57b0bd" prot="public" static="no" mutable="no">
        <type>global</type>
        <definition>global $xoopsModuleConfig</definition>
        <argsstring></argsstring>
        <name>$xoopsModuleConfig</name>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="E:/Packages/xortify server/htdocs/modules/xsoap/include/server.php" line="19" column="1" bodyfile="E:/Packages/xortify server/htdocs/modules/xsoap/include/server.php" bodystart="19" bodyend="-1"/>
      </memberdef>
      <memberdef kind="variable" id="modules_2xsoap_2include_2server_8php_1ab3ab98606b7a592c3804f643b2d2cd9d" prot="public" static="no" mutable="no">
        <type>global</type>
        <definition>global $xoopsModule</definition>
        <argsstring></argsstring>
        <name>$xoopsModule</name>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="E:/Packages/xortify server/htdocs/modules/xsoap/include/server.php" line="19" column="1" bodyfile="E:/Packages/xortify server/htdocs/modules/xsoap/include/server.php" bodystart="19" bodyend="-1"/>
      </memberdef>
      <memberdef kind="variable" id="modules_2xsoap_2include_2server_8php_1a3aaf40baac36e278c7d7c9139df1750c" prot="public" static="no" mutable="no">
        <type></type>
        <definition>$mode</definition>
        <argsstring></argsstring>
        <name>$mode</name>
        <initializer>= (isset($_REQUEST[&apos;outputmode&apos;])?(string)$_REQUEST[&apos;outputmode&apos;]:&apos;json&apos;)</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="E:/Packages/xortify server/htdocs/modules/xsoap/include/server.php" line="22" column="1" bodyfile="E:/Packages/xortify server/htdocs/modules/xsoap/include/server.php" bodystart="22" bodyend="-1"/>
      </memberdef>
      <memberdef kind="variable" id="modules_2xsoap_2include_2server_8php_1a147a766daa03d52576c7345fea31c945" prot="public" static="no" mutable="no">
        <type></type>
        <definition>$parser</definition>
        <argsstring></argsstring>
        <name>$parser</name>
        <initializer>= (isset($_REQUEST[&apos;parser&apos;])?(string)$_REQUEST[&apos;parser&apos;]:&apos;http&apos;)</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="E:/Packages/xortify server/htdocs/modules/xsoap/include/server.php" line="23" column="1" bodyfile="E:/Packages/xortify server/htdocs/modules/xsoap/include/server.php" bodystart="23" bodyend="-1"/>
      </memberdef>
      <memberdef kind="variable" id="modules_2xsoap_2include_2server_8php_1ada8a7130088351710bb02ed622d6bf65" prot="public" static="no" mutable="no">
        <type></type>
        <definition>$plugin</definition>
        <argsstring></argsstring>
        <name>$plugin</name>
        <initializer>= $_REQUEST[&apos;xrestplugin&apos;]</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="E:/Packages/xortify server/htdocs/modules/xsoap/include/server.php" line="24" column="1" bodyfile="E:/Packages/xortify server/htdocs/modules/xsoap/include/server.php" bodystart="24" bodyend="-1"/>
      </memberdef>
      <memberdef kind="variable" id="modules_2xsoap_2include_2server_8php_1a3a14292722020f5076fa1465350a8e68" prot="public" static="no" mutable="no">
        <type></type>
        <definition>$GLOBALS[&apos;xrestPlugin&apos;]</definition>
        <argsstring>[&apos;xrestPlugin&apos;]</argsstring>
        <name>$GLOBALS</name>
        <initializer>= $plugin</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="E:/Packages/xortify server/htdocs/modules/xsoap/include/server.php" line="25" column="1" bodyfile="E:/Packages/xortify server/htdocs/modules/xsoap/include/server.php" bodystart="25" bodyend="-1"/>
      </memberdef>
      <memberdef kind="variable" id="modules_2xsoap_2include_2server_8php_1a0a4baf0b22973c07685c3981f0d17fc4" prot="public" static="no" mutable="no">
        <type></type>
        <definition>$path</definition>
        <argsstring></argsstring>
        <name>$path</name>
        <initializer>= parse_url(XOOPS_URL.$_SERVER[&apos;REQUEST_URI&apos;], PHP_URL_PATH)</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="E:/Packages/xortify server/htdocs/modules/xsoap/include/server.php" line="28" column="1" bodyfile="E:/Packages/xortify server/htdocs/modules/xsoap/include/server.php" bodystart="28" bodyend="-1"/>
      </memberdef>
      <memberdef kind="variable" id="modules_2xsoap_2include_2server_8php_1abb35c8495a232b510389fa6d7b15d38a" prot="public" static="no" mutable="no">
        <type></type>
        <definition>$request</definition>
        <argsstring></argsstring>
        <name>$request</name>
        <initializer>= parse_url(XOOPS_URL.$_SERVER[&apos;REQUEST_URI&apos;], PHP_URL_QUERY)</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="E:/Packages/xortify server/htdocs/modules/xsoap/include/server.php" line="33" column="1" bodyfile="E:/Packages/xortify server/htdocs/modules/xsoap/include/server.php" bodystart="33" bodyend="-1"/>
      </memberdef>
      <memberdef kind="variable" id="modules_2xsoap_2include_2server_8php_1affc45c6ace2eeb3f300b054dbf9592b6" prot="public" static="no" mutable="no">
        <type></type>
        <definition>$values</definition>
        <argsstring></argsstring>
        <name>$values</name>
        <initializer>= array()</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="E:/Packages/xortify server/htdocs/modules/xsoap/include/server.php" line="34" column="1" bodyfile="E:/Packages/xortify server/htdocs/modules/xsoap/include/server.php" bodystart="34" bodyend="-1"/>
      </memberdef>
      <memberdef kind="variable" id="modules_2xsoap_2include_2server_8php_1a42eec151d60db44f976e7c3112aa59c7" prot="public" static="no" mutable="no">
        <type>if(isset($_POST)) if(isset($_GET))</type>
        <definition>$xoopsPreload</definition>
        <argsstring></argsstring>
        <name>$xoopsPreload</name>
        <initializer>=&amp; XoopsPreload::getInstance()</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="E:/Packages/xortify server/htdocs/modules/xsoap/include/server.php" line="47" column="1" bodyfile="E:/Packages/xortify server/htdocs/modules/xsoap/include/server.php" bodystart="47" bodyend="-1"/>
      </memberdef>
      <memberdef kind="variable" id="modules_2xsoap_2include_2server_8php_1aa1dfe8b03eb0a67bfa60d8a6a976ff12" prot="public" static="no" mutable="no">
        <type>if(!file_exists(XOOPS_ROOT_PATH.&apos;/class/soap/xoopssoap.php&apos;))</type>
        <definition>if (!file_exists(XOOPS_ROOT_PATH.&apos;/class/soap/xoopssoap.php&apos;)) else</definition>
        <argsstring></argsstring>
        <name>else</name>
        <initializer>{
	require_once (XOOPS_ROOT_PATH.&apos;/class/soap/xoopssoap.php&apos;)</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="E:/Packages/xortify server/htdocs/modules/xsoap/include/server.php" line="65" column="1" bodyfile="E:/Packages/xortify server/htdocs/modules/xsoap/include/server.php" bodystart="65" bodyend="-1"/>
      </memberdef>
      <memberdef kind="variable" id="modules_2xsoap_2include_2server_8php_1af06814e7616ba4eaa2ae52a091a63a56" prot="public" static="no" mutable="no">
        <type>switch(XOOPS_SOAP_LIB)</type>
        <definition>switch (XOOPS_SOAP_LIB) $funct</definition>
        <argsstring></argsstring>
        <name>$funct</name>
        <initializer>= new <ref refid="class_functions_handler" kindref="compound">FunctionsHandler</ref>($xoopsModuleConfig[&apos;<ref refid="classwsdl" kindref="compound">wsdl</ref>&apos;])</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="E:/Packages/xortify server/htdocs/modules/xsoap/include/server.php" line="98" column="1" bodyfile="E:/Packages/xortify server/htdocs/modules/xsoap/include/server.php" bodystart="98" bodyend="-1"/>
      </memberdef>
      <memberdef kind="variable" id="modules_2xsoap_2include_2server_8php_1a3386223949f1e798ea1a5dd31c63cea5" prot="public" static="no" mutable="no">
        <type></type>
        <definition>foreach ($funct-&gt;GetServerExtensions() as $extension) $FunctionDefine</definition>
        <argsstring></argsstring>
        <name>$FunctionDefine</name>
        <initializer>= array()</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="E:/Packages/xortify server/htdocs/modules/xsoap/include/server.php" line="100" column="1" bodyfile="E:/Packages/xortify server/htdocs/modules/xsoap/include/server.php" bodystart="100" bodyend="-1"/>
      </memberdef>
      </sectiondef>
      <sectiondef kind="func">
      <memberdef kind="function" id="modules_2xsoap_2include_2server_8php_1ac8a061b6f916dd0e76452b3672cdb687" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>foreach($FunctionDefine as $)</type>
        <definition>foreach ($FunctionDefine as $) if</definition>
        <argsstring>(XOOPS_SOAP_LIB!=&quot;NUSOAP&quot;) $server-&gt; handle()</argsstring>
        <name>if</name>
        <param>
          <type>XOOPS_SOAP_LIB!</type>
          <defval>&quot;NUSOAP&quot;</defval>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="E:/Packages/xortify server/htdocs/modules/xsoap/include/server.php" line="126" column="1"/>
      </memberdef>
      </sectiondef>
    <briefdescription>
    </briefdescription>
    <detaileddescription>
    </detaileddescription>
    <programlisting>
<codeline lineno="1"><highlight class="normal">&lt;?php</highlight></codeline>
<codeline lineno="19"><highlight class="normal">global<sp/>$xoopsModuleConfig,$xoopsModule;</highlight></codeline>
<codeline lineno="20"><highlight class="normal"></highlight></codeline>
<codeline lineno="21"><highlight class="normal"></highlight><highlight class="comment">//<sp/>Gets<sp/>Execution<sp/>Mode</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="22"><highlight class="normal">$mode<sp/>=<sp/>(isset($_REQUEST[</highlight><highlight class="stringliteral">&apos;outputmode&apos;</highlight><highlight class="normal">])?(string)$_REQUEST[</highlight><highlight class="stringliteral">&apos;outputmode&apos;</highlight><highlight class="normal">]:</highlight><highlight class="stringliteral">&apos;json&apos;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="23"><highlight class="normal">$parser<sp/>=<sp/>(isset($_REQUEST[</highlight><highlight class="stringliteral">&apos;parser&apos;</highlight><highlight class="normal">])?(string)$_REQUEST[</highlight><highlight class="stringliteral">&apos;parser&apos;</highlight><highlight class="normal">]:</highlight><highlight class="stringliteral">&apos;http&apos;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="24"><highlight class="normal">$plugin<sp/>=<sp/>$_REQUEST[</highlight><highlight class="stringliteral">&apos;xrestplugin&apos;</highlight><highlight class="normal">];</highlight></codeline>
<codeline lineno="25"><highlight class="normal">$GLOBALS[</highlight><highlight class="stringliteral">&apos;xrestPlugin&apos;</highlight><highlight class="normal">]<sp/>=<sp/>$plugin;</highlight></codeline>
<codeline lineno="26"><highlight class="normal"></highlight></codeline>
<codeline lineno="27"><highlight class="normal"></highlight><highlight class="comment">//<sp/>Gets<sp/>URI<sp/>Values<sp/>and<sp/>POST<sp/>and<sp/>GET<sp/>Values</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="28"><highlight class="normal">$path<sp/>=<sp/>parse_url(XOOPS_URL.$_SERVER[</highlight><highlight class="stringliteral">&apos;REQUEST_URI&apos;</highlight><highlight class="normal">],<sp/>PHP_URL_PATH);</highlight></codeline>
<codeline lineno="29"><highlight class="normal"></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(substr($path,0,1)!=</highlight><highlight class="charliteral">&apos;\\&apos;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="30"><highlight class="normal"><sp/><sp/><sp/><sp/>$path<sp/>.=<sp/></highlight><highlight class="charliteral">&apos;\\&apos;</highlight><highlight class="normal"><sp/>.$path;</highlight></codeline>
<codeline lineno="31"><highlight class="normal"></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(substr($path,strlen($path)-1,1)!=</highlight><highlight class="charliteral">&apos;\\&apos;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="32"><highlight class="normal"><sp/><sp/><sp/><sp/>$path<sp/>.=<sp/>$path<sp/>.<sp/></highlight><highlight class="charliteral">&apos;\\&apos;</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="33"><highlight class="normal">$request<sp/>=<sp/>parse_url(XOOPS_URL.$_SERVER[</highlight><highlight class="stringliteral">&apos;REQUEST_URI&apos;</highlight><highlight class="normal">],<sp/>PHP_URL_QUERY);</highlight></codeline>
<codeline lineno="34"><highlight class="normal">$values<sp/>=<sp/>array();</highlight></codeline>
<codeline lineno="35"><highlight class="normal">parse_str($request,<sp/>$values);</highlight></codeline>
<codeline lineno="36"><highlight class="normal"></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(isset($_POST))<sp/>{</highlight></codeline>
<codeline lineno="37"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">foreach</highlight><highlight class="normal">($_POST<sp/>as<sp/>$field<sp/>=&gt;<sp/>$value)<sp/>{</highlight></codeline>
<codeline lineno="38"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>$values[$field]<sp/>=<sp/>$value;</highlight></codeline>
<codeline lineno="39"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="40"><highlight class="normal">}</highlight></codeline>
<codeline lineno="41"><highlight class="normal"></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(isset($_GET))<sp/>{</highlight></codeline>
<codeline lineno="42"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">foreach</highlight><highlight class="normal">($_GET<sp/>as<sp/>$field<sp/>=&gt;<sp/>$value)<sp/>{</highlight></codeline>
<codeline lineno="43"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>$values[$field]<sp/>=<sp/>$value;</highlight></codeline>
<codeline lineno="44"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="45"><highlight class="normal">}</highlight></codeline>
<codeline lineno="46"><highlight class="normal"></highlight></codeline>
<codeline lineno="47"><highlight class="normal">$xoopsPreload<sp/>=&amp;<sp/>XoopsPreload::getInstance();</highlight></codeline>
<codeline lineno="48"><highlight class="normal">$xoopsPreload-&gt;triggerEvent(</highlight><highlight class="stringliteral">&apos;api.server.start&apos;</highlight><highlight class="normal">,<sp/>array($mode,<sp/>$plugin,<sp/>$path,<sp/>$request,<sp/>$values));</highlight></codeline>
<codeline lineno="49"><highlight class="normal"></highlight></codeline>
<codeline lineno="50"><highlight class="normal"></highlight></codeline>
<codeline lineno="51"><highlight class="normal"></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!class_exists(</highlight><highlight class="stringliteral">&apos;Services_JSON&apos;</highlight><highlight class="normal">))</highlight></codeline>
<codeline lineno="52"><highlight class="normal"><sp/><sp/><sp/><sp/>include_once(</highlight><highlight class="stringliteral">&apos;JSON.php&apos;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="53"><highlight class="normal"></highlight></codeline>
<codeline lineno="54"><highlight class="normal"></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!file_exists(XOOPS_ROOT_PATH.</highlight><highlight class="stringliteral">&apos;/class/soap/xoopssoap.php&apos;</highlight><highlight class="normal">)){</highlight></codeline>
<codeline lineno="55"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">foreach</highlight><highlight class="normal"><sp/>(get_loaded_extensions()<sp/>as<sp/>$ext){</highlight></codeline>
<codeline lineno="56"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>($ext==</highlight><highlight class="stringliteral">&quot;soap&quot;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="57"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>$native=</highlight><highlight class="keyword">true</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="58"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="59"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>($native!=</highlight><highlight class="keyword">true</highlight><highlight class="normal">)<sp/>{</highlight></codeline>
<codeline lineno="60"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>define(</highlight><highlight class="stringliteral">&apos;XOOPS_SOAP_LIB&apos;</highlight><highlight class="normal">,</highlight><highlight class="stringliteral">&apos;NUSOAP&apos;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="61"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>require_once(</highlight><highlight class="stringliteral">&apos;nusoap/nusoap.php&apos;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="62"><highlight class="normal"><sp/><sp/><sp/><sp/>}<sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/>{</highlight></codeline>
<codeline lineno="63"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>define(</highlight><highlight class="stringliteral">&apos;XOOPS_SOAP_LIB&apos;</highlight><highlight class="normal">,</highlight><highlight class="stringliteral">&apos;INHERIT&apos;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="64"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="65"><highlight class="normal">}<sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/>{</highlight></codeline>
<codeline lineno="66"><highlight class="normal"><sp/><sp/><sp/><sp/>require_once<sp/>(XOOPS_ROOT_PATH.</highlight><highlight class="stringliteral">&apos;/class/soap/xoopssoap.php&apos;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="67"><highlight class="normal">}</highlight></codeline>
<codeline lineno="68"><highlight class="normal"></highlight></codeline>
<codeline lineno="69"><highlight class="normal">require_once(XOOPS_ROOT_PATH.</highlight><highlight class="stringliteral">&apos;/modules/&apos;</highlight><highlight class="normal">.$xoopsModule-&gt;dirname().</highlight><highlight class="stringliteral">&apos;/class/class.functions.php&apos;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="70"><highlight class="normal">require_once(</highlight><highlight class="stringliteral">&apos;common.php&apos;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="71"><highlight class="normal"></highlight></codeline>
<codeline lineno="72"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">switch</highlight><highlight class="normal">(XOOPS_SOAP_LIB){</highlight></codeline>
<codeline lineno="73"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/></highlight><highlight class="stringliteral">&quot;NUSOAP&quot;</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="74"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>($xoopsModuleConfig[</highlight><highlight class="stringliteral">&apos;wsdl&apos;</highlight><highlight class="normal">]==1){</highlight></codeline>
<codeline lineno="75"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!isset($_GET[</highlight><highlight class="stringliteral">&apos;wsdl&apos;</highlight><highlight class="normal">]))<sp/>{</highlight></codeline>
<codeline lineno="76"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>$server<sp/>=<sp/></highlight><highlight class="keyword">new</highlight><highlight class="normal"><sp/><ref refid="classsoap__server" kindref="compound">soap_server</ref>(</highlight><highlight class="stringliteral">&quot;xsoap.wsdl&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="77"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}<sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/>{</highlight></codeline>
<codeline lineno="78"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>$server<sp/>=<sp/></highlight><highlight class="keyword">new</highlight><highlight class="normal"><sp/><ref refid="classsoap__server" kindref="compound">soap_server</ref>($_GET[</highlight><highlight class="stringliteral">&apos;wsdl&apos;</highlight><highlight class="normal">].</highlight><highlight class="stringliteral">&apos;.service.wsdl&apos;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="79"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="80"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}<sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/>{</highlight></codeline>
<codeline lineno="81"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>$server<sp/>=<sp/></highlight><highlight class="keyword">new</highlight><highlight class="normal"><sp/><ref refid="classsoap__server" kindref="compound">soap_server</ref>();</highlight></codeline>
<codeline lineno="82"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="83"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="84"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/></highlight><highlight class="stringliteral">&quot;INHERIT&quot;</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="85"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>($xoopsModuleConfig[</highlight><highlight class="stringliteral">&apos;wsdl&apos;</highlight><highlight class="normal">]==1){</highlight></codeline>
<codeline lineno="86"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!isset($_GET[</highlight><highlight class="stringliteral">&apos;wsdl&apos;</highlight><highlight class="normal">]))<sp/>{</highlight></codeline>
<codeline lineno="87"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>$server<sp/>=<sp/></highlight><highlight class="keyword">new</highlight><highlight class="normal"><sp/>SoapServer(XOOPS_URL.</highlight><highlight class="stringliteral">&apos;/modules/xsoap/xsoap.wsdl&apos;</highlight><highlight class="normal">,<sp/>array(</highlight><highlight class="stringliteral">&apos;uri&apos;</highlight><highlight class="normal"><sp/>=&gt;<sp/>XOOPS_URL.</highlight><highlight class="stringliteral">&apos;/modules/xsoap/&apos;</highlight><highlight class="normal">));</highlight></codeline>
<codeline lineno="88"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}<sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/>{</highlight></codeline>
<codeline lineno="89"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>$server<sp/>=<sp/></highlight><highlight class="keyword">new</highlight><highlight class="normal"><sp/>SoapServer(XOOPS_URL.</highlight><highlight class="stringliteral">&apos;/modules/xsoap/&apos;</highlight><highlight class="normal">.$_GET[</highlight><highlight class="stringliteral">&apos;wsdl&apos;</highlight><highlight class="normal">].</highlight><highlight class="stringliteral">&apos;.service.wsdl&apos;</highlight><highlight class="normal">,<sp/>array(</highlight><highlight class="stringliteral">&apos;uri&apos;</highlight><highlight class="normal"><sp/>=&gt;<sp/>XOOPS_URL.</highlight><highlight class="stringliteral">&apos;/modules/xsoap/&apos;</highlight><highlight class="normal">));</highlight></codeline>
<codeline lineno="90"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="91"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}<sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/>{</highlight></codeline>
<codeline lineno="92"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>$server<sp/>=<sp/></highlight><highlight class="keyword">new</highlight><highlight class="normal"><sp/>SoapServer(NULL,<sp/>array(</highlight><highlight class="stringliteral">&apos;uri&apos;</highlight><highlight class="normal"><sp/>=&gt;<sp/>XOOPS_URL.</highlight><highlight class="stringliteral">&apos;/modules/xsoap/&apos;</highlight><highlight class="normal">));</highlight></codeline>
<codeline lineno="93"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="94"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="95"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="96"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="97"><highlight class="normal"></highlight></codeline>
<codeline lineno="98"><highlight class="normal">$funct<sp/>=<sp/></highlight><highlight class="keyword">new</highlight><highlight class="normal"><sp/><ref refid="class_functions_handler" kindref="compound">FunctionsHandler</ref>($xoopsModuleConfig[</highlight><highlight class="stringliteral">&apos;wsdl&apos;</highlight><highlight class="normal">]);</highlight></codeline>
<codeline lineno="99"><highlight class="normal"></highlight></codeline>
<codeline lineno="100"><highlight class="normal">$FunctionDefine<sp/>=<sp/>array();</highlight></codeline>
<codeline lineno="101"><highlight class="normal"></highlight><highlight class="keywordflow">foreach</highlight><highlight class="normal">($funct-&gt;GetServerExtensions()<sp/>as<sp/>$extension){</highlight></codeline>
<codeline lineno="102"><highlight class="normal"><sp/><sp/><sp/><sp/>global<sp/>$xoopsDB;</highlight></codeline>
<codeline lineno="103"><highlight class="normal"><sp/><sp/><sp/><sp/>$sql<sp/>=<sp/></highlight><highlight class="stringliteral">&quot;SELECT<sp/>count(*)<sp/>rc<sp/>FROM<sp/>&quot;</highlight><highlight class="normal">.$xoopsDB-&gt;prefix(</highlight><highlight class="stringliteral">&apos;soap_plugins&apos;</highlight><highlight class="normal">).<sp/></highlight><highlight class="stringliteral">&quot;<sp/>where<sp/>active<sp/>=<sp/>1<sp/>and<sp/>plugin_file<sp/>=<sp/>&apos;&quot;</highlight><highlight class="normal">.$extension.</highlight><highlight class="stringliteral">&quot;&apos;&quot;</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="104"><highlight class="normal"><sp/><sp/><sp/><sp/>$ret<sp/>=<sp/>$xoopsDB-&gt;query($sql);</highlight></codeline>
<codeline lineno="105"><highlight class="normal"><sp/><sp/><sp/><sp/>$row<sp/>=<sp/>$xoopsDB-&gt;fetchArray($ret);</highlight></codeline>
<codeline lineno="106"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>($row[</highlight><highlight class="stringliteral">&apos;rc&apos;</highlight><highlight class="normal">]==1){</highlight></codeline>
<codeline lineno="107"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>require_once(XOOPS_ROOT_PATH.</highlight><highlight class="stringliteral">&apos;/modules/xsoap/plugins/&apos;</highlight><highlight class="normal">.<sp/>$extension);</highlight></codeline>
<codeline lineno="108"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>$FunctionDefine[]<sp/>=<sp/>substr(<sp/>$extension,0,strlen(<sp/>$extension)-4);</highlight></codeline>
<codeline lineno="109"><highlight class="normal"><sp/><sp/><sp/><sp/>}<sp/><sp/><sp/></highlight></codeline>
<codeline lineno="110"><highlight class="normal">}</highlight></codeline>
<codeline lineno="111"><highlight class="normal"></highlight></codeline>
<codeline lineno="112"><highlight class="normal">$FunctionDefine<sp/>=<sp/>array_unique($FunctionDefine);</highlight></codeline>
<codeline lineno="113"><highlight class="normal"></highlight></codeline>
<codeline lineno="114"><highlight class="normal"></highlight><highlight class="keywordflow">foreach</highlight><highlight class="normal">($FunctionDefine<sp/>as<sp/>$function){</highlight></codeline>
<codeline lineno="115"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(function_exists($function)){</highlight></codeline>
<codeline lineno="116"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">switch</highlight><highlight class="normal">(XOOPS_SOAP_LIB){</highlight></codeline>
<codeline lineno="117"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/></highlight><highlight class="stringliteral">&quot;NUSOAP&quot;</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="118"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>$server-&gt;register($function,array(),array(),XOOP_URL.</highlight><highlight class="stringliteral">&quot;/modules/xsoap/$function&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="119"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="120"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/></highlight><highlight class="stringliteral">&quot;INHERIT&quot;</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="121"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>$server-&gt;addFunction($function);</highlight></codeline>
<codeline lineno="122"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">break</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="123"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="124"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="125"><highlight class="normal">}</highlight></codeline>
<codeline lineno="126"><highlight class="normal"></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(XOOPS_SOAP_LIB!=</highlight><highlight class="stringliteral">&quot;NUSOAP&quot;</highlight><highlight class="normal">)</highlight></codeline>
<codeline lineno="127"><highlight class="normal"><sp/><sp/><sp/><sp/>$server-&gt;handle();</highlight></codeline>
<codeline lineno="128"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="129"><highlight class="normal">$xoopsPreload<sp/>=&amp;<sp/>XoopsPreload::getInstance();</highlight></codeline>
<codeline lineno="130"><highlight class="normal">$xoopsPreload-&gt;triggerEvent(</highlight><highlight class="stringliteral">&apos;api.server.end&apos;</highlight><highlight class="normal">,<sp/>array($mode,<sp/>$plugin,<sp/>$path,<sp/>$request,<sp/>$values,<sp/>$result));</highlight></codeline>
<codeline lineno="131"><highlight class="normal"></highlight></codeline>
<codeline lineno="132"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="133"><highlight class="normal">?&gt;</highlight></codeline>
    </programlisting>
    <location file="E:/Packages/xortify server/htdocs/modules/xsoap/include/server.php"/>
  </compounddef>
</doxygen>
